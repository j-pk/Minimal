
//
//  StoreReview.swift
//  Minimal
//
//  Created by Jameson Parker Kirby on 10/2/18.
//  Copyright Â© 2018 Parker Kirby. All rights reserved.
//

import UIKit
import StoreKit

struct StoreReview {
    // If the count has not yet been stored, this will return 0
//    if var defaults = Defaults.retrieve() {
//        defaults.rateCount += 1
//        defaults.store()
//    }
//    
//    print("Process completed \(count) time(s)")
    
    // Get the current bundle version for the app
    //    let infoDictionaryKey = kCFBundleVersionKey as String
    //    guard let currentVersion = Bundle.main.object(forInfoDictionaryKey: infoDictionaryKey) as? String
    //    else { fatalError("Expected to find a bundle version in the info dictionary") }
    //
    //    let lastVersionPromptedForReview = UserDefaults.standard.string(forKey: UserDefaultsKeys.lastVersionPromptedForReviewKey)
    //
    //    // Has the process been completed several times and the user has not already been prompted for this version?
    //    if count >= 4 && currentVersion != lastVersionPromptedForReview {
    //    let twoSecondsFromNow = DispatchTime.now() + 2.0
    //    DispatchQueue.main.asyncAfter(deadline: twoSecondsFromNow) { [navigationController] in
    //    if navigationController?.topViewController is ProcessCompletedViewController {
    //    SKStoreReviewController.requestReview()
    //    UserDefaults.standard.set(currentVersion, forKey: UserDefaultsKeys.lastVersionPromptedForReviewKey)
    //    }
    //    }
    //    }
}

